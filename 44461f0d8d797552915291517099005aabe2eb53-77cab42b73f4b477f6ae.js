(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{mZHx:function(t,e,r){"use strict";r.d(e,"a",(function(){return T}));r("E5k/");var n=r("q1tI"),i=r.n(n),a=r("sCKr"),o=(r("xtjI"),r("4DPX"),r("rzGZ"),r("Dq+y"),r("8npG"),r("Ggvi"),r("VdAu"));r("pJf4"),r("q8oJ"),r("YbXK"),r("cFtU"),r("m210");function c(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var d=[0,1,2,3],l=[2,3,0,1],h=[!0,!1,!0,!1],s=[[0,-1],[1,0],[0,1],[-1,0]],f=s.reduce((function(t,e,r){return t[e]=r,t}),{});function p(t,e,r){return void 0===r&&(r=Math.random),t+Math.floor(r()*(e+1-t))}function g(t,e,r,n,i){return!(t<0||t>i-1||e<0||e>n-1)&&!r[[t,e]]}function v(t,e){void 0===t&&(t=[[]]),void 0===e&&(e=[]);var r=t.reduce((function(t,e,r){return e.reduce((function(t,e,n){return e>0&&(t[[n,r]]=!0),t}),t)}),{});return e.forEach((function(t){var e=t[0],n=t[1];return r[[e,n]]=!0})),r}function m(t){var e=t.grid,r=t.start,n=t.end,i=e.length;if(0===i)return[];var a=e[0].length,o=v(e);delete o[n];var c={},u=[r];c[r]=[r];for(var l=!1,h=function(){var t=u.shift();d.forEach((function(e){var r=[t[0]+s[e][0],t[1]+s[e][1]],d=r[0],h=r[1];g(d,h,o,i,a)&&(o[r]=!0,c[r]=c[t].concat([r]),d===n[0]&&h===n[1]&&(l=!0),u.push(r))}))};u.length&&!l;)h();return c[n]}function b(t){var e=t.grid,r=t.start,n=t.end,i=e.length;if(0===i)return[];for(var a=e[0].length,o=m({grid:e,start:r,end:n})||[r],c=v(e,o),u=[o.shift()];o.length;){var d=y({height:i,longestPath:u,stack:o,visited:c,width:a});o=d.stack,c=d.visited,u=d.longestPath}return u}function y(t){var e=t.height,r=t.longestPath,n=t.stack,i=t.visited,a=t.width,o=r[r.length-1];i[o]=!0;var u=n.shift(),d=u[0]-o[0],l=u[1]-o[1],h=[[o[0]-l,o[1]-d],[u[0]-l,u[1]-d]],s=[[o[0]+l,o[1]+d],[u[0]+l,u[1]+d]];return g.apply(void 0,c(h[0]).concat([i,e,a]))&&g.apply(void 0,c(h[1]).concat([i,e,a]))?(n.unshift(u),n.unshift(h[1]),n.unshift(h[0]),i[h[0]]=!0,i[h[1]]=!0):g.apply(void 0,c(s[0]).concat([i,e,a]))&&g.apply(void 0,c(s[1]).concat([i,e,a]))?(n.unshift(u),n.unshift(s[1]),n.unshift(s[0]),i[s[0]]=!0,i[s[1]]=!0):r.push(u),{stack:n,visited:i,longestPath:r}}function w(t){var e,r=t.grid,n=t.path,i=void 0===n?[]:n,a=t.direction,o=t.stack,u=void 0===o?[]:o,d=[].concat(c(i),c(u)),l=r.map((function(t){return t.map((function(t){return t?a:void 0}))}));if(d.length<2)return l;for(var h=1;h<d.length;h++){var s=d[h-1],p=(e=d[h])[0]-s[0],g=e[1]-s[1],v=s[0];l[s[1]][v]=f[[p,g]]}if(a){var m=e,b=m[0];l[m[1]][b]=a}return l}function k(t,e){void 0===e&&(e=Math.random);var r=t.reduce((function(t,e,r){return e.reduce((function(t,e,n){return 0===e&&t.push([r,n]),t}),t)}),[]);return 0===r.length?null:r[Math.floor(e()*r.length)]}function P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?P(Object(r),!0).forEach((function(e){O(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function O(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var j=function t(e){var r=e.size,n=e.color,a=e.directionNext,o=e.directionPrev,c=e.weight;if(null===a)return null===o?(console.log("warning - double null"),null):t({size:r,color:n,weight:c,directionNext:o,directionPrev:null});var u=(1-c)/2*r,d=c*r;if(null===o)return i.a.createElement("div",{style:{height:r,width:r,position:"relative"}},i.a.createElement("div",{style:{borderRadius:"50%",height:d,width:d,background:n,left:u,top:u,position:"absolute"}}),i.a.createElement("div",{style:E(E(E(E(E({position:"absolute",background:n},h[a]?{width:d,left:u,height:r/2}:{width:r/2,top:u,height:d}),0===a?{top:0}:{}),2===a?{bottom:0}:{}),3===a?{left:0}:{}),1===a?{right:0}:{})}));if(a===l[o])return i.a.createElement("div",{style:{height:r,width:r,position:"relative"}},i.a.createElement("div",{style:E({position:"absolute",background:n},h[a]?{width:d,height:r,left:u}:{width:r,height:d,top:u})}));var s=0===a||0===o,f=3===a||3===o,p={topleft:"0 0 100% 0",topright:"0 0 0 100%",bottomleft:"0 100% 0 0",bottomright:"100% 0 0 0"}[s?f?"topleft":"topright":f?"bottomleft":"bottomright"],g=E(E({},s?{top:0}:{bottom:0}),f?{left:0}:{right:0}),v=E({borderRadius:p},g);return i.a.createElement("div",{style:{height:r,width:r,position:"relative",overflow:"hidden"}},i.a.createElement("div",{style:E({position:"absolute",background:n,width:d+u,height:d+u},v)}),i.a.createElement("div",{style:E({position:"absolute",background:"white",width:u,height:u},v)}))},S=function(t){var e=t.size,r=t.action;return i.a.createElement("div",{style:{boxSizing:"border-box",position:"relative",height:e,width:e,border:"1px solid #eee"}},i.a.createElement("div",{style:{position:"absolute",height:0,width:e-1,border:void 0===r?"none":"1px dashed #555",transformOrigin:"0 100%",left:(e-1)/2,top:(e-1)/2,transform:"rotate("+90*(r-1)+"deg)"}}))},x=function(t){var e,r;function n(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).renderAG=function(){var t,r=(null===(t=e.props)||void 0===t?void 0:t.data).actionGrid;if(!r)return null;var n=e.props.params.cellSize;return i.a.createElement("div",{className:"actions",style:{position:"absolute"}},r.map((function(t,e){return i.a.createElement(o.c,{flexDirection:"row",key:"ar-"+e},t.map((function(t,r){return i.a.createElement(S,{size:n,action:t,key:"arc-"+e+"-"+r})})))})))},e.renderSnake=function(){var t,r=e.props.params.cellSize,n=null===(t=e.props)||void 0===t?void 0:t.data,a=n.grid,c=n.fruit;return a?i.a.createElement(o.c,{flexDirection:"column",className:"snake"},a.map((function(t,e){return i.a.createElement(o.c,{flexDirection:"row",key:"sr-"+e},t.map((function(t,n){if(0===t)return i.a.createElement("div",{key:"fruit-"+e+"-"+n,style:{width:r,height:r,display:"flex",alignItems:"center",justifyContent:"center"}},c&&n===c[0]&&e===c[1]?"ðŸŽ":"");var o=null,u=null;return a[e][n+1]&&(a[e][n+1]===t+1&&(u=1),a[e][n+1]===t-1&&(o=1)),a[e][n-1]&&(a[e][n-1]===t+1&&(u=3),a[e][n-1]===t-1&&(o=3)),a[e+1]&&a[e+1][n]&&(a[e+1][n]===t+1&&(u=2),a[e+1][n]===t-1&&(o=2)),a[e-1]&&a[e-1][n]&&(a[e-1][n]===t+1&&(u=0),a[e-1][n]===t-1&&(o=0)),i.a.createElement(j,{size:r,weight:.8,color:"green",directionNext:o,directionPrev:u,key:"src-"+e+"-"+n})})))}))):null},e}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var a=n.prototype;return a.renderFruit=function(){},a.render=function(){var t=this.props.data;if(null===t)return null;t.actionGrid,t.grid;var e=this.props.params,r=e.width,n=e.height,a=e.cellSize;return i.a.createElement("div",{style:{boxSizing:"content-box",width:r*a,height:n*a,margin:"0 auto",paddingBottom:a}},this.renderAG(),this.renderSnake(),this.renderFruit())},n}(i.a.Component);function A(t){return function(t){if(Array.isArray(t))return M(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return M(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function G(t,e){var r=t.directionRandom,n=t.directionText,i=t.height,a=t.width,o=t.initialLength,c=t.snakePosRandom,u=t.xHead,d=t.yHead;void 0===e&&(e=Math.random);var h=r?Math.floor(4*e()):{up:0,right:1,down:2,left:3}[n],f=1===h?o+2:2,g=a-1-(3===h?o+2:2),v=2===h?o+2:2,m=i-1-(0===h?o+2:2);c?(u=p(f,g,e),d=p(v,m,e)):(u=Math.min(g,Math.max(f,u)),d=Math.min(m,Math.max(v,d)));for(var b=[],y=0;y<i;y++){for(var w=[],k=0;k<a;k++)w.push(0);b.push(w)}for(var P=[u,d],E=[],O=[],j=0;j<o;j++){var S=u+j*s[l[h]][0],x=d+j*s[l[h]][1];b[x][S]=j+1,O.unshift([S,x]),E=[S,x]}return{behindTail:[E[0]+s[l[h]][0],E[1]+s[l[h]][1]],direction:h,frontOfSnake:[u+s[h][0],d+s[h][1]],grid:b,length:o,head:P,snakePath:O,tail:E}}function z(t,e){void 0===e&&(e=Math.random);var r=G(t,e),n=r.grid,i=r.head,a=r.tail,o=r.direction,c=r.snakePath,u=m({grid:n,start:i,end:a}),d=v(n,u),l=[].concat(A(c),[u.shift()]);return{actionGrid:w({grid:n,path:l,stack:u,direction:o}),direction:o,grid:n,stack:u,visited:d,longestPath:l}}function D(t,e){void 0===e&&(e=Math.random);var r=G(t,e),n=r.grid,i=r.head,a=r.tail,o=r.direction,c=r.length,u=r.snakePath,d=k(n,e);return{head:i,grid:n,direction:o,actionGrid:w({grid:n,path:b({grid:n,start:i,end:a}),direction:o}),fruit:d,length:c,snakePath:u,bestPath:!1}}function I(t,e){var r=t.data,n=t.params,i=t.complete;void 0===e&&(e=Math.random);for(var a=r.actionGrid,o=r.bestPath,c=r.grid,u=r.direction,d=r.head,l=r.fruit,h=r.length,f=a,p=o,g=n.fruitGrowth,v=n.height,y=n.width,P=n.safeMode,E=[],O=c.map((function(t,e){return t.map((function(t,r){return 0===t||t+1>h?0:(E[h-t-1]=[r,e],t+1)}))}));void 0===E[0];)E.shift();var j=E[0],S=[d[0]+s[u][0],d[1]+s[u][1]];(0!==O[S[1]][S[0]]||S[0]>=y||S[0]<0||S[1]>=v||S[1]<0)&&i(),O[S[1]][S[0]]=1,O.every((function(t){return t.every((function(t){return t}))}))&&i();var x=h,M=l?[l[0],l[1]]:[-1,-1];if(S[0]===M[0]&&S[1]===M[1]&&(x=Math.min(v*y,x+g),P||(p=!1),M=k(O,e)),!1===p){var G=m({grid:c,start:S,end:M});if(G){var z=[].concat(E,A(G)),D=b({grid:function(t,e){var r=t.map((function(t){return t.map((function(t){return t}))}));return e.forEach((function(t){var e=t[0],n=t[1];return r[n][e]=1})),r}(O,z),start:M,end:j});z.length+D.length===v*y+2&&(f=w({grid:c,path:z,stack:D}),p=!0)}}return{actionGrid:f,bestPath:p,direction:f[S[1]][S[0]],fruit:M,grid:O,head:S,length:x,snakePath:E}}function R(t){var e=t.data,r=t.params,n=t.complete,i=e.direction,a=e.grid,o=e.longestPath,c=e.stack,u=e.visited,d=y({height:r.height,longestPath:o,stack:c,visited:u,width:r.width}),l=w({grid:a,path:o,stack:c,direction:i});return 0===c.length&&n(),{actionGrid:l,direction:i,grid:a,longestPath:d.longestPath,stack:d.stack,visited:d.visited}}x.defaultProps={width:30,height:30,initialLength:4};e.b=function(t){return i.a.createElement(a.a,Object.assign({auto:!1,maxTime:1/0,initData:D,initialParams:{cellSize:32,fruitGrowth:4,height:10,width:10,initialLength:2,safeMode:!0,snakePosRandom:!0,directionRandom:!0},updateData:I},t),i.a.createElement(x,null))};var T=function(){return i.a.createElement(a.a,{auto:!1,maxTime:1/0,initData:z,initialParams:{cellSize:16,fruitGrowth:4,height:20,width:20,initialLength:2,snakePosRandom:!0,directionRandom:!0},updateData:R},i.a.createElement(x,null))}}}]);
//# sourceMappingURL=44461f0d8d797552915291517099005aabe2eb53-77cab42b73f4b477f6ae.js.map