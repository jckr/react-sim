(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{hMyd:function(t,e,r){"use strict";r.r(e),r.d(e,"_frontmatter",(function(){return z})),r.d(e,"default",(function(){return A}));r("rzGZ"),r("Dq+y"),r("8npG"),r("Ggvi"),r("E5k/");var n=r("q1tI"),i=r.n(n),o=r("7ljp"),a=(r("xtjI"),r("4DPX"),r("1uUR"));r("pJf4"),r("q8oJ"),r("YbXK"),r("cFtU"),r("m210");function u(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var l=[0,1,2,3],d=[2,3,0,1],h=[!0,!1,!0,!1],f=[[0,-1],[1,0],[0,1],[-1,0]],s=f.reduce((function(t,e,r){return t[e]=r,t}),{});function p(t,e){return t+Math.floor(Math.random()*(e+1-t))}function v(t,e,r,n,i){return!(t<0||t>i-1||e<0||e>n-1)&&!r[[t,e]]}function g(t,e){void 0===t&&(t=[[]]),void 0===e&&(e=[]);var r=t.reduce((function(t,e,r){return e.reduce((function(t,e,n){return e>0&&(t[[n,r]]=!0),t}),t)}),{});return e.forEach((function(t){var e=t[0],n=t[1];return r[[e,n]]=!0})),r}function m(t){var e=t.grid,r=t.start,n=t.end,i=e.length;if(0===i)return[];for(var o=e[0].length,a=function(t){var e=t.grid,r=t.start,n=t.end,i=e.length;if(0===i)return[];var o=e[0].length,a=g(e),u={},c=[r];u[r]=[r];for(var d=!1,h=function(){var t=c.shift();l.forEach((function(e){var r=[t[0]+f[e][0],t[1]+f[e][1]],l=r[0],h=r[1];v(l,h,a,i,o)&&(a[r]=!0,u[r]=u[t].concat([r]),l===n[0]&&h===n[1]&&(d=!0),c.push(r))}))};c.length&&!d;)h();return u[n]}({grid:e,start:r,end:n}),c=g(e,a),d=[a.shift()];a.length;){var h=d[d.length-1];c[h]=!0;var s=a.shift(),p=s[0]-h[0],m=s[1]-h[1],b=[[h[0]-m,h[1]-p],[s[0]-m,s[1]-p]],y=[[h[0]+m,h[1]+p],[s[0]+m,s[1]+p]];v.apply(void 0,u(b[0]).concat([c,i,o]))&&v.apply(void 0,u(b[1]).concat([c,i,o]))?(a.unshift(s),a.unshift(b[1]),a.unshift(b[0]),c[b[0]]=!0,c[b[1]]=!0):v.apply(void 0,u(y[0]).concat([c,i,o]))&&v.apply(void 0,u(y[1]).concat([c,i,o]))?(a.unshift(s),a.unshift(y[1]),a.unshift(y[0]),c[y[0]]=!0,c[y[1]]=!0):d.push(s)}return d}function b(t){var e=t.reduce((function(t,e,r){return e.reduce((function(t,e,n){return 0===e&&t.push([r,n]),t}),t)}),[]);return 0===e.length?null:e[Math.floor(Math.random()*e.length)]}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){O(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function O(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E(t){var e=t.data,r=t.params,n=t.complete,i=e.actionGrid,o=e.grid,a=e.direction,u=e.head,c=e.fruit,l=e.length,d=r.fruitGrowth,h=r.height,s=r.width,p=!0,v=o.map((function(t){return t.map((function(t){return 0===t||t+1>l?(p=!1,0):t+1}))}));p&&n();var g=[u[0]+f[a][0],u[1]+f[a][1]];(0!==v[g[1]][g[0]]||g[0]>=s||g[0]<0||g[1]>=h||g[1]<0)&&n(),v[g[1]][g[0]]=1;var m=i[g[1]][g[0]],y=l,w=c?[c[0],c[1]]:null;return w&&g[0]===c[0]&&g[1]===c[1]&&(y+=d,w=b(v)),{actionGrid:i,direction:m,fruit:w,grid:v,head:g,length:y}}function j(t){for(var e=t.height,r=t.width,n=t.initialLength,i=Math.floor(4*Math.random()),o=2===i?n+2:2,a=e-1-(0===i?n+2:2),u=p(1===i?n+2:2,r-1-(3===i?n+2:2)),c=p(o,a),l=[],h=0;h<e;h++){for(var v=[],g=0;g<r;g++)v.push(0);l.push(v)}for(var y=[],w=0;w<n;w++){var O=u+w*f[d[i]][0],E=c+w*f[d[i]][1];l[E][O]=w+1,y=[O,E]}var j=[y[0]+f[d[i]][0],y[1]+f[d[i]][1]],k=[u+f[i][0],c+f[i][1]],S=b(l),x=function(t){for(var e,r=t.grid,n=t.path,i=t.direction,o=r.map((function(t){return t.map((function(t){return t?i:void 0}))})),a=1;a<n.length;a++){var u=n[a-1],c=(e=n[a])[0]-u[0],l=e[1]-u[1],d=u[0];o[u[1]][d]=s[[c,l]]}var h=e,f=h[0];return o[h[1]][f]=i,o}({grid:l,path:m({grid:l,start:k,end:j}),direction:i});return{head:[u,c],grid:l,direction:i,actionGrid:x,fruit:S,length:n}}var k=function t(e){var r=e.size,n=e.color,o=e.directionNext,a=e.directionPrev,u=e.weight;if(null===o)return t({size:r,color:n,weight:u,directionNext:a,directionPrev:null});var c=(1-u)/2*r,l=u*r;if(null===a)return i.a.createElement("div",{style:{height:r,width:r,position:"relative"}},i.a.createElement("div",{style:{borderRadius:"50%",height:l,width:l,background:n,left:c,top:c,position:"absolute"}}),i.a.createElement("div",{style:w(w(w(w(w({position:"absolute",background:n},h[o]?{width:l,left:c,height:r/2}:{width:r/2,top:c,height:l}),0===o?{top:0}:{}),2===o?{bottom:0}:{}),3===o?{left:0}:{}),1===o?{right:0}:{})}));if(o===d[a])return i.a.createElement("div",{style:{height:r,width:r,position:"relative"}},i.a.createElement("div",{style:w({position:"absolute",background:n},h[o]?{width:l,height:r,left:c}:{width:r,height:l,top:c})}));var f=0===o||0===a,s=3===o||3===a,p={topleft:"0 0 100% 0",topright:"0 0 0 100%",bottomleft:"0 100% 0 0",bottomright:"100% 0 0 0"}[f?s?"topleft":"topright":s?"bottomleft":"bottomright"],v=w(w({},f?{top:0}:{bottom:0}),s?{left:0}:{right:0}),g=w({borderRadius:p},v);return i.a.createElement("div",{style:{height:r,width:r,position:"relative",overflow:"hidden"}},i.a.createElement("div",{style:w({position:"absolute",background:n,width:l+c,height:l+c},g)}),i.a.createElement("div",{style:w({position:"absolute",background:"white",width:c,height:c},g)}))},S=function(t){var e=t.size,r=t.action;return i.a.createElement("div",{style:{boxSizing:"border-box",position:"relative",height:e,width:e,border:"1px solid #eee"}},i.a.createElement("div",{style:{position:"absolute",height:0,width:e-1,border:"1px dashed #555",transformOrigin:"0 100%",left:(e-1)/2,top:(e-1)/2,transform:"rotate("+90*(r-1)+"deg)"}}))},x=function(t){var e,r;function n(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).renderAG=function(){var t,r=(null===(t=e.props)||void 0===t?void 0:t.data).actionGrid;if(!r)return null;var n=e.props.params.cellSize;return i.a.createElement("div",{className:"actions",style:{position:"absolute"}},r.map((function(t,e){return i.a.createElement(a.d,{key:"ar-"+e},t.map((function(t,r){return i.a.createElement(S,{size:n,action:t,key:"arc-"+e+"-"+r})})))})))},e.renderSnake=function(){var t,r=e.props.params.cellSize,n=null===(t=e.props)||void 0===t?void 0:t.data,o=n.grid,u=n.fruit;return o?i.a.createElement(a.c,{className:"snake"},o.map((function(t,e){return i.a.createElement(a.d,{key:"sr-"+e},t.map((function(t,n){if(0===t)return i.a.createElement("div",{key:"fruit-"+e+"-"+n,style:{width:r,height:r,display:"flex",alignItems:"center",justifyContent:"center"}},n===u[0]&&e===u[1]?"🍎":"");var a=null,c=null;return o[e][n+1]&&(o[e][n+1]===t+1&&(c=1),o[e][n+1]===t-1&&(a=1)),o[e][n-1]&&(o[e][n-1]===t+1&&(c=3),o[e][n-1]===t-1&&(a=3)),o[e+1]&&o[e+1][n]&&(o[e+1][n]===t+1&&(c=2),o[e+1][n]===t-1&&(a=2)),o[e-1]&&o[e-1][n]&&(o[e-1][n]===t+1&&(c=0),o[e-1][n]===t-1&&(a=0)),i.a.createElement(k,{size:r,weight:.8,color:"green",directionNext:a,directionPrev:c,key:"src-"+e+"-"+n})})))}))):null},e}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=n.prototype;return o.renderFruit=function(){},o.render=function(){var t=this.props.data;if(null===t)return null;t.actionGrid,t.grid;var e=this.props.params,r=e.width,n=e.height,o=e.cellSize;return i.a.createElement("div",{style:{boxSizing:"content-box",width:r*o,height:n*o,border:"2px solid black",padding:o}},this.renderAG(),this.renderSnake(),this.renderFruit())},n}(i.a.Component);x.defaultProps={width:30,height:30,initialLength:4};var P=function(){return i.a.createElement(a.f,{auto:!1,maxTime:1/0,initData:j,initialParams:{cellSize:25,fruitGrowth:4,height:20,width:20,initialLength:4},updateData:E},i.a.createElement(x,null))};var z={Title:"Snake"},G={_frontmatter:z};function A(t){var e=t.components,r=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,["components"]);return Object(o.b)("wrapper",Object.assign({},G,r,{components:e,mdxType:"MDXLayout"}),Object(o.b)("h1",null,"Snake"),Object(o.b)(P,{mdxType:"Snake"}))}A.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-examples-snake-mdx-3832d6e274290015a4a6.js.map