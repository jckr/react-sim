{"version":3,"sources":["webpack:///./src/pages/api/grid.mdx","webpack:///./src/components/examples/game-of-life.js","webpack:///./src/pages/frame-helpers/grid.mdx"],"names":["_frontmatter","layoutProps","MDXContent","components","props","mdxType","parentName","isMDXComponent","stale","split","map","d","Number","countNeighbors","x","y","grid","height","length","width","n","xOffset","yOffset","x1","y1","updateGameOfLifeGrid","data","complete","changes","updatedGrid","row","cell","neighbors","updateGridNoComplete","initGrid","random","density","Math","Array","fill","Step2","initData","initialParams","Step3","updateData","Step4","Step5","controls","param","resetOnChange","maxValue","step","label","showTimeSlider","GameOfLife","auto","delay"],"mappings":"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","file":"component---src-pages-frame-helpers-grid-mdx-2d01c565778eb2c80cf0.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\";\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Name`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><strong parentName=\"td\">{`data`}</strong><br />{`Array`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`It expects data to be a 2-dimensional array of data.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><strong parentName=\"td\">{`accessor`}</strong><br />{`function`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`How to determine how to color each cell. The inputs of the function are:`}<br />{`cell (content of the cell), x , y. The output is: a color. The default value is:`}<br /><inlineCode parentName=\"td\">{`cell => cell ? 0 : 'none' : '#000'`}</inlineCode></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><strong parentName=\"td\">{`size`}</strong><br />{`string/integer, default: 12`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`How big the squares will be in pixels.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><strong parentName=\"td\">{`cellProps`}</strong><br />{`anything`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Any extra prop to pass to each individual square`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`Any other prop will be passed to the Grid.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","import React from 'react';\nimport { Grid } from 'react-sim';\n\nimport Model from './framed-model';\n\nconst stale = `0000010000000000010000000000\n0000000100010010000000000000\n1110001000000000000000000001\n1010000000000000000000000000\n0000000000100000000010110000\n0100000101010100000000000001\n0000000000010100000001000001\n0000000011100100000000100001\n0000010000000000000000010000\n0000000000010100000000000100`\n  .split('\\n')\n  .map(d => d.split('').map(Number));\n\n// helpers\n\nfunction countNeighbors(x, y, grid) {\n  const height = grid.length;\n  if (!height) {\n    return 0;\n  }\n  const width = grid[0].length;\n\n  let n = 0;\n  for (let xOffset = -1; xOffset <= 1; xOffset++) {\n    for (let yOffset = -1; yOffset <= 1; yOffset++) {\n      const x1 = x + xOffset;\n      const y1 = y + yOffset;\n      if (\n        x1 < width &&\n        x1 > 0 &&\n        y1 < height &&\n        y1 > 0 &&\n        (x1 !== x || y1 !== y)\n      ) {\n        n += grid[y1][x1];\n      }\n    }\n  }\n  return n;\n}\n\nexport function updateGameOfLifeGrid({ data, complete }) {\n  let changes = 0;\n  const updatedGrid = data.map((row, y) =>\n    row.map((cell, x) => {\n      const neighbors = countNeighbors(x, y, data);\n      if (cell && (neighbors < 2 || neighbors > 3)) {\n        // living cell has too few or too many neighbors, and dies.\n        changes++;\n        return 0;\n      }\n      if (!cell && neighbors === 3) {\n        // dead cell has the right amount of neighbors, and lives!\n        changes++;\n        return 1;\n      }\n      // no change\n      return cell;\n    })\n  );\n  if (changes === 0) {\n    complete();\n  }\n  return updatedGrid;\n}\n\nexport function updateGridNoComplete({ data }) {\n  return data.map((row, y) =>\n    row.map((cell, x) => {\n      const neighbors = countNeighbors(x, y, data);\n      if (cell && (neighbors < 2 || neighbors > 3)) {\n        // living cell has too few or too many neighbors, and dies.\n        return 0;\n      }\n      if (!cell && neighbors === 3) {\n        // dead cell has the right amount of neighbors, and lives!\n        return 1;\n      }\n      // no change\n      return cell;\n    })\n  );\n}\n\nexport function initGrid({ height, width, density }, random = Math.random) {\n  return Array(height)\n    .fill(0)\n    .map(row =>\n      Array(width)\n        .fill(0)\n        .map(() => Number(random() < density))\n    );\n}\n\nconst GameOfLife = props => (\n  <Model\n    auto={false}\n    controls={{\n      param: 'density',\n      maxValue: 1,\n      step: 0.01,\n      resetOnChange: true,\n      label: 'Grid density',\n    }}\n    showTimeSlider={false}\n    updateData={updateGameOfLifeGrid}\n    delay={100}\n    initData={initGrid}\n    initialParams={{\n      height: 28,\n      width: 28,\n      density: 0.15,\n    }}\n    {...props}\n  >\n    <Grid />\n  </Model>\n);\n\nexport const Step2 = () => (\n  <Model\n    initData={initGrid}\n    initialParams={{\n      height: 10,\n      width: 28,\n      density: 0.15,\n    }}\n  >\n    <Grid />\n  </Model>\n);\n\nexport const Step3 = () => (\n  <Model\n    initData={() => stale}\n    updateData={updateGridNoComplete}\n    initialParams={{\n      height: 10,\n      width: 28,\n      density: 0.15,\n    }}\n  >\n    <Grid />\n  </Model>\n);\n\nexport const Step4 = () => (\n  <Model\n    initData={() => stale}\n    updateData={updateGameOfLifeGrid}\n    initialParams={{\n      height: 10,\n      width: 28,\n      density: 0.15,\n    }}\n  >\n    <Grid />\n  </Model>\n);\n\nexport const Step5 = () => (\n  <Model\n    controls={{\n      param: 'density',\n      resetOnChange: true,\n      maxValue: 1,\n      step: 0.01,\n      label: 'Grid density',\n    }}\n    showTimeSlider={false}\n    initData={initGrid}\n    updateData={updateGameOfLifeGrid}\n    initialParams={{\n      height: 10,\n      width: 28,\n      density: 0.15,\n    }}\n  >\n    <Grid />\n  </Model>\n);\n\nexport default GameOfLife;\n","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport { Step4 } from '../../components/examples/game-of-life';\nimport GridAPI from '../api/grid.mdx';\nexport const _frontmatter = {\n  \"Title\": \"Grid\"\n};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\";\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <p>{`Grid is a `}<a parentName=\"p\" {...{\n        \"href\": \"/react-sim/frame-helpers\"\n      }}>{`frame helper`}</a>{` which displays any 2-dimensional matrix of data as a grid of colored squares.`}</p>\n    <Step4 mdxType=\"Step4\" />\n    <p>{`It's used in examples like `}<a parentName=\"p\" {...{\n        \"href\": \"/react-sim/examples/game-of-life\"\n      }}>{`Game of Life`}</a>{`, `}<a parentName=\"p\" {...{\n        \"href\": \"/react-sim/examples/simple-model\"\n      }}>{`Simple Model`}</a>{` or `}<a parentName=\"p\" {...{\n        \"href\": \"/react-sim/examples/activators-inhibitors\"\n      }}>{`Activators/inhibitors`}</a>{`.`}</p>\n    <h1 {...{\n      \"id\": \"properties\"\n    }}>{`Properties`}</h1>\n    <GridAPI mdxType=\"GridAPI\" />\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}