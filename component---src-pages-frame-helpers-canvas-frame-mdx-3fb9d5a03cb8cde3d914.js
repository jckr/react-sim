(window.webpackJsonp=window.webpackJsonp||[]).push([[57,7,8,12,21],{"+CGw":function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"c",(function(){return d})),a.d(t,"a",(function(){return j}));var n=a("dI71"),r=a("rePB"),l=a("q1tI"),c=a.n(l),b=a("2A+t"),o=a("VdAu"),i=a("sCKr");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u=function(e){return Math.ceil(6*e())};function s(e,t){var a,n=e.data,r=e.tick,l=e.params.nbDice;void 0===t&&(t=Math.random);for(var c=n.totals,b=0,o=[],i=0;i<l;i++)o.push(u(t)),b+=o[i];var p=m(m({},c),{},((a={})[b]=(c[b]||0)+1,a));return{rolls:o,average:(n.average*(r-1)+n.total)/r,total:b,totals:p}}function d(e){return{rolls:[],average:3.5*e.nbDice,total:0,totals:{}}}var j=function(e){var t=e.value,a={background:"#000",width:3,height:3,borderRadius:"100%",position:"absolute"},n={top:3},r={bottom:3},l={right:3},b={left:3},o={top:8};return c.a.createElement("div",{style:{width:21,height:21,marginRight:10,position:"relative",border:"1px solid #000",borderRadius:"3px"}},1!==t&&c.a.createElement("div",{style:m(m(m({},a),n),b)}),t>3&&c.a.createElement("div",{style:m(m(m({},a),n),l)}),6===t&&c.a.createElement("div",{style:m(m(m({},a),o),b)}),t%2==1&&c.a.createElement("div",{style:m(m(m({},a),o),{left:8})}),6===t&&c.a.createElement("div",{style:m(m(m({},a),o),l)}),t>3&&c.a.createElement("div",{style:m(m(m({},a),r),b)}),1!==t&&c.a.createElement("div",{style:m(m(m({},a),r),l)}))},O=function(e){var t,a=e.label,n=e.max,r=e.nbRolls,l=e.nbValues,b=e.theme,i=n?50*r/n:0,p=350/l,m=(null==b||null===(t=b.colors)||void 0===t?void 0:t.primary)||"#33f";return c.a.createElement(o.c,{flexDirection:"column"},c.a.createElement(o.c,{flexDirection:"row",sx:{justifyContent:"center",alignItems:"flex-end",width:p,height:"50px"}},c.a.createElement("div",{style:{width:.8*p,height:i,backgroundColor:m}})),c.a.createElement(o.c,{flexDirection:"row",sx:{justifyContent:"center",fontSize:Math.min(350/(1.5*l),12)+"px"}},a))},f=function(e){function t(){return e.apply(this,arguments)||this}return Object(n.a)(t,e),t.prototype.render=function(){if(null===this.props.data)return null;var e=this.props,t=e.data,a=e.params.nbDice,n=e.theme,r=Number(a),l=6*r-r+1,b=t.rolls,i=t.totals,p=0,m=Array(l).fill(0).map((function(e,t){var a=r+t,n=i[a]||0;return p=Math.max(p,n),{label:a,nbRolls:n}}));return c.a.createElement(o.c,{flexDirection:"column",sx:{justifyContent:"space-between",height:"140px"}},c.a.createElement(o.c,{flexDirection:"row"},b.map((function(e,t){return c.a.createElement(j,{value:e,key:"k-"+t})}))),c.a.createElement(o.c,{flexDirection:"row",sx:{alignItems:"flex-end",height:"80px"}},m.map((function(e){return c.a.createElement(O,Object.assign({},e,{key:e.label,max:p,nbValues:l,theme:n}))}))))},t}(c.a.Component);t.b=function(e){var t=Object(b.e)().theme;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,Object.assign({theme:t,auto:!1,controls:{param:"nbDice",minValue:1,maxValue:6,resetOnChange:!0,label:"Number of dice per roll"},updateData:s,maxTime:1e3,initData:d,initialParams:{nbDice:5}},e),c.a.createElement(f,{theme:t})))}},"2jic":function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return m})),a.d(t,"default",(function(){return s}));var n=a("zLVn"),r=(a("q1tI"),a("7ljp")),l=a("6d3j"),c=a("qEe1"),b=a("IiH9"),o=a("f4hJ"),i=a("FFgS"),p=["components"],m={Title:"Canvas Frame"},u={_frontmatter:m};function s(e){var t=e.components,a=Object(n.a)(e,p);return Object(r.b)("wrapper",Object.assign({},u,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"CanvasFrame")," is a ",Object(r.b)("a",{parentName:"p",href:"/react-sim/frame-helpers"},"frame helper")," that makes it easier to use canvas with react-sim."),Object(r.b)("p",null,"It's used in many of the examples such as ",Object(r.b)("a",{parentName:"p",href:"/react-sim/examples/chaos-game"},"Chaos Game"),", ",Object(r.b)("a",{parentName:"p",href:"/react-sim/examples/percolation"},"Percolation"),") ",Object(r.b)("a",{parentName:"p",href:"/react-sim/examples/epidemic"},"Epidemic simulation"),", etc."),Object(r.b)(l.a,{mdxType:"CanvasFrameExample"}),Object(r.b)("h1",{id:"canvasframe-properties"},"CanvasFrame properties"),Object(r.b)("p",null,"Its properties are:"),Object(r.b)(c.default,{mdxType:"CanvasFrameAPI"}),Object(r.b)("h1",{id:"the-draw-function"},"the draw function"),Object(r.b)("p",null,"The ",Object(r.b)("inlineCode",{parentName:"p"},"draw")," function does all the heavy lifting."),Object(r.b)("p",null,"Its argument is an object with the following properties:"),Object(r.b)(b.default,{mdxType:"DrawAPI"}),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"circle")," and ",Object(r.b)("inlineCode",{parentName:"p"},"roundRectangle")," are helper functions to make it easier to draw circles and rounded rectangles with canvas."),Object(r.b)("p",null,"Both take an object as argument with the following properties:"),Object(r.b)(o.default,{mdxType:"CircleAPI"}),Object(r.b)(i.default,{mdxType:"RoundRectangleAPI"}),Object(r.b)("p",null,"so for example, you can have a ",Object(r.b)("inlineCode",{parentName:"p"},"draw")," function that would go like this:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-jsx"},"const draw = ({ctx, data, circle, params}) => {\n  const {height, width} = params;\n  ctx.clearReact(0, 0, width, height);\n  data.forEach(d => circle({x: d.x, y: d.y, 2}));\n  ctx.fill();\n}\n")))}s.isMDXComponent=!0},"6d3j":function(e,t,a){"use strict";a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return y}));var n=a("KQm4"),r=a("rePB"),l=a("zLVn"),c=a("q1tI"),b=a.n(c),o=a("1uUR"),i=a("VdAu"),p=a("sCKr"),m=a("+CGw"),u=["x","y"];function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var d=function(e){var t=e.height,a=e.width,n=e.balls,r=e.speed;return Array(n).fill(0).map((function(e){return{x:Math.random()*a,y:Math.random()*t,c:"hsl("+Math.floor(360*Math.random())+",85%,57%)",vx:(Math.random()-.5)*r,vy:(Math.random()-.5)*r}}))},j=function(e){var t=e.data,a=e.params;return t.map((function(e){var t=e.x,n=e.y,c=Object(l.a)(e,u);return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({x:(t+c.vx)%a.width,y:(n+c.vy)%a.height},c)}))},O=function(e){var t=e.ctx,a=e.cachedData,n=e.data,r=e.circle,l=e.params,c=e.tick,b=l.height,o=l.width;t.clearRect(0,0,o,b);for(var i=function(e){var n=c-e;t.globalAlpha=.1+.05*(10-n);var l=.3*(10-n);a[e].forEach((function(e){t.fillStyle=e.c,r({x:e.x,y:e.y,r:l}),t.fill()}))},p=Math.max(c-10,0);p<c;p++)i(p);t.globalAlpha=1,n.forEach((function(e){t.fillStyle=e.c,r({x:e.x,y:e.y,r:3}),t.fill()}))},f=function(e){return b.a.createElement(p.a,Object.assign({initData:d,updateData:j,maxTime:500,initialParams:{height:200,width:332,balls:200,speed:3}},e),b.a.createElement(o.a,{draw:O}))},h=Object(o.i)((function(e){var t=e.data;return b.a.createElement(i.c,{flexDirection:"row",sx:{height:"30px"}},t.rolls.map((function(e,t){return b.a.createElement(m.a,{value:e,key:"k-"+t})})))})),g=[{color:"#33e",label:"Average",accessor:function(e){return Number(e.average.toFixed(2))}},{color:"#e3e",label:"Last roll",accessor:function(e){return e.total}}],N=Object(n.a)(Array(13).keys()).slice(2).map((function(e){return{color:"hsl("+360*(1+e-2)/11+",85%,57%)",label:String(e),accessor:function(t){return t.totals[e]||0}}})),y=function(e){return b.a.createElement(p.a,Object.assign({initData:m.c,updateData:m.d,initialParams:{nbDice:2}},e),b.a.createElement(i.c,{flexDirection:"column"},b.a.createElement(i.e,{sx:{fontSize:1,fontWeight:"bold"}},"Roll:"),b.a.createElement(h,null),b.a.createElement(i.e,{sx:{fontSize:1,fontWeight:"bold"}},"Average rolls:"),b.a.createElement(o.f,{series:g}),b.a.createElement(o.b,{series:g}),b.a.createElement(i.e,{sx:{fontSize:1,fontWeight:"bold"}},"Roll distribution:"),b.a.createElement(o.f,{series:N,stacked:!0}),b.a.createElement(o.b,{series:N.slice(0,6)}),b.a.createElement(o.b,{series:N.slice(6)})))}},FFgS:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return c})),a.d(t,"default",(function(){return o}));var n=a("zLVn"),r=(a("q1tI"),a("7ljp")),l=["components"],c={},b={_frontmatter:c};function o(e){var t=e.components,a=Object(n.a)(e,l);return Object(r.b)("wrapper",Object.assign({},b,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"roundRectangle")," takes an object as argument with the following properties:"),Object(r.b)("p",null,"All the ",Object(r.b)("a",{parentName:"p",href:"/react-sim/api/#canvasframe"},"CanvasFrame")," properties, plus:"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Name"),Object(r.b)("th",{parentName:"tr",align:null},"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("strong",{parentName:"td"},"x"),Object(r.b)("br",null),"number"),Object(r.b)("td",{parentName:"tr",align:null},"x coordinate of top-left corner of rectangle")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("strong",{parentName:"td"},"y"),Object(r.b)("br",null),"number"),Object(r.b)("td",{parentName:"tr",align:null},"y coordinate of top-left corner of rectangle")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("strong",{parentName:"td"},"width"),Object(r.b)("br",null),"number"),Object(r.b)("td",{parentName:"tr",align:null},"Width of rectangle")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("strong",{parentName:"td"},"height"),Object(r.b)("br",null),"number"),Object(r.b)("td",{parentName:"tr",align:null},"Height of rectangle")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("strong",{parentName:"td"},"tl"),Object(r.b)("br",null),"number, optional"),Object(r.b)("td",{parentName:"tr",align:null},"Radius of top-left corner")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("strong",{parentName:"td"},"tr"),Object(r.b)("br",null),"number, optional"),Object(r.b)("td",{parentName:"tr",align:null},"Radius of top-right corner")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("strong",{parentName:"td"},"bl"),Object(r.b)("br",null),"number, optional"),Object(r.b)("td",{parentName:"tr",align:null},"Radius of bottom-left corner")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("strong",{parentName:"td"},"br"),Object(r.b)("br",null),"number, optional"),Object(r.b)("td",{parentName:"tr",align:null},"Radius of botrom-right corner")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("strong",{parentName:"td"},"r"),Object(r.b)("br",null),"number, optional"),Object(r.b)("td",{parentName:"tr",align:null},"Radius of all unspecified corners")))))}o.isMDXComponent=!0},IiH9:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return c})),a.d(t,"default",(function(){return o}));var n=a("zLVn"),r=(a("q1tI"),a("7ljp")),l=["components"],c={},b={_frontmatter:c};function o(e){var t=e.components,a=Object(n.a)(e,l);return Object(r.b)("wrapper",Object.assign({},b,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"All the ",Object(r.b)("a",{parentName:"p",href:"/react-sim/api/#canvasframe"},"CanvasFrame")," properties, plus:"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Name"),Object(r.b)("th",{parentName:"tr",align:null},"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("strong",{parentName:"td"},"canvas"),Object(r.b)("br",null),"DOM Node"),Object(r.b)("td",{parentName:"tr",align:null},"The actual canvas node")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("strong",{parentName:"td"},"ctx"),Object(r.b)("br",null),"Canvas rendering context"),Object(r.b)("td",{parentName:"tr",align:null},"the corresponding 2d context.",Object(r.b)("br",null),"Exactly what you'd get if you typed",Object(r.b)("br",null)," ",Object(r.b)("inlineCode",{parentName:"td"},"const ctx = canvas.getContext('2d');"))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("strong",{parentName:"td"},"circle"),Object(r.b)("br",null),"Helper function"),Object(r.b)("td",{parentName:"tr",align:null},"see ",Object(r.b)("a",{parentName:"td",href:"/react-sim/api#circle"},"circle API"))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("strong",{parentName:"td"},"roundRectangle"),Object(r.b)("br",null),"Helper function"),Object(r.b)("td",{parentName:"tr",align:null},"see ",Object(r.b)("a",{parentName:"td",href:"/react-sim/api#roundrectangle"},"roundRectangle API"))))))}o.isMDXComponent=!0},f4hJ:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return c})),a.d(t,"default",(function(){return o}));var n=a("zLVn"),r=(a("q1tI"),a("7ljp")),l=["components"],c={},b={_frontmatter:c};function o(e){var t=e.components,a=Object(n.a)(e,l);return Object(r.b)("wrapper",Object.assign({},b,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"circle")," takes an object as argument with the following properties:"),Object(r.b)("p",null,"All the ",Object(r.b)("a",{parentName:"p",href:"/react-sim/api/#canvasframe"},"CanvasFrame")," properties, plus:"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Name"),Object(r.b)("th",{parentName:"tr",align:null},"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("strong",{parentName:"td"},"x"),Object(r.b)("br",null),"number"),Object(r.b)("td",{parentName:"tr",align:null},"x coordinate of circle center")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("strong",{parentName:"td"},"y"),Object(r.b)("br",null),"number"),Object(r.b)("td",{parentName:"tr",align:null},"y coordinate of circle center")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("strong",{parentName:"td"},"r"),Object(r.b)("br",null),"number"),Object(r.b)("td",{parentName:"tr",align:null},"Radius of circle")))))}o.isMDXComponent=!0},qEe1:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return c})),a.d(t,"default",(function(){return o}));var n=a("zLVn"),r=(a("q1tI"),a("7ljp")),l=["components"],c={},b={_frontmatter:c};function o(e){var t=e.components,a=Object(n.a)(e,l);return Object(r.b)("wrapper",Object.assign({},b,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"All the ",Object(r.b)("a",{parentName:"p",href:"/react-sim/api/#withframe"},"connected Frame")," context props, plus:"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Name"),Object(r.b)("th",{parentName:"tr",align:null},"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("strong",{parentName:"td"},"draw"),Object(r.b)("br",null),"function, optional"),Object(r.b)("td",{parentName:"tr",align:null},"A function which will be called each time CanvasFrame is updated (ie at each animation cycle)")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("strong",{parentName:"td"},"height"),Object(r.b)("br",null),"number, optional"),Object(r.b)("td",{parentName:"tr",align:null},"The height of the canvas. If ignored, CanvasFrame will used ",Object(r.b)("inlineCode",{parentName:"td"},"params.height"),".")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("strong",{parentName:"td"},"width"),Object(r.b)("br",null),"number, optional"),Object(r.b)("td",{parentName:"tr",align:null},"The width of the canvas. If ignored, CanvasFrame will used ",Object(r.b)("inlineCode",{parentName:"td"},"params.width"),".")))))}o.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-frame-helpers-canvas-frame-mdx-3fb9d5a03cb8cde3d914.js.map