(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{Jh09:function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",(function(){return i})),n.d(t,"default",(function(){return c}));n("rzGZ"),n("Dq+y"),n("8npG"),n("Ggvi"),n("E5k/"),n("q1tI");var a=n("7ljp"),r=n("u0c3");var i={Title:"Fibonacci"},o={_frontmatter:i};function c(e){var t=e.components,n=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["components"]);return Object(a.b)("wrapper",Object.assign({},o,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h1",null,"Fibonacci sequence"),Object(a.b)("p",null,"Both of these examples are inspired by the Fibonacci sequence, where:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"F",Object(a.b)("sub",null,"0")," = 0,"),Object(a.b)("li",{parentName:"ul"},"F",Object(a.b)("sub",null,"1")," = 1,"),Object(a.b)("li",{parentName:"ul"},"F",Object(a.b)("sub",null,"n")," = F",Object(a.b)("sub",null,"n - 1")," + F",Object(a.b)("sub",null,"n - 2")," for each n > 2.")),Object(a.b)("p",null,"0, 1, 1, 2, 3, 5, 8, 13, 21, 34, ..."),Object(a.b)(r.b,{mdxType:"FibonacciSquares"}),Object(a.b)("p",null,"The corresponding ",Object(a.b)("inlineCode",{parentName:"p"},"udpateData")," function is really simple:"),Object(a.b)("pre",null,Object(a.b)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),"function updateData({ data, tick }) {\n  if (tick === 0) {\n    return [0];\n  }\n  if (tick === 1) {\n    return [0, 1];\n  }\n  const lastNumber = data[tick - 1] + data[tick - 2];\n  return [...data, lastNumber];\n}\n")),Object(a.b)("p",null,"We can draw squares with sides corresponding to the number in the sequence:"),Object(a.b)("p",null,"Joining their corners, they form a spiral."),Object(a.b)("p",null,"F",Object(a.b)("sub",null,"n")," / F",Object(a.b)("sub",null,"n-1")," converges to φ, the golden ratio - (1 - √5) / 2."),Object(a.b)("p",null,"We can start from a rectangle φ * k by k rectangle, divide its longer side by φ, draw that square, and keep on dividing the remaining rectangle.\nWe'll have squares of same proportions and can also draw a similar spiral."),Object(a.b)(r.a,{mdxType:"FibonacciSpiral"}),Object(a.b)("p",null,"In this case, we don't even need to provide data, an initData or an updateData function.\nAll we need is the number of steps we want to go (tick) and a Frame to render the squares and spiral."),Object(a.b)("pre",null,Object(a.b)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),"const FibonacciSpiral = () => (\n  <Model initialParams={{ size: 500 }} delay={100} maxTime={20}>\n    <FibonacciSpiralFrame />\n  </Model>\n);\n")))}c.isMDXComponent=!0},u0c3:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m}));n("pJf4"),n("q8oJ"),n("8npG"),n("YbXK"),n("cFtU"),n("rzGZ"),n("m210"),n("4DPX");var a=n("q1tI"),r=n.n(a),i=n("1uUR");n("VdAu");function o(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var l=.5+Math.sqrt(5)/2,s={0:"right",1:"down",2:"left",3:"up"},u={right:"#b6b6e2",down:"#a6d3d9",left:"#ffeb3b",up:"#95d392"};function b(){return[0]}function d(e){var t=e.data,n=e.tick;if(0===n)return[0];if(1===n)return[0,1];var a=t[n-1]+t[n-2];return[].concat(o(t),[a])}var p=function(e){var t=e.tick,n=e.params,i=Object(a.useRef)(null),o=n.size;return Object(a.useEffect)((function(){var e=i.current.getContext("2d");e.fillStyle="#fff",e.fillRect(0,0,o,o);for(var n=0,a=0,r=o,c=0;c<t;c++){var u=s[c%4];r/=l,e.strokeStyle="#ddd",e.strokeRect(n,a,r,r),e.strokeStyle="#222";var b=Math.max(0,r-1);switch(u){case"right":e.beginPath(),e.arc(n+r,a+r,b,Math.PI,-Math.PI/2),e.stroke(),e.closePath(),n+=r;break;case"down":e.beginPath(),e.arc(n,a+r,b,-Math.PI/2,0),e.stroke(),e.closePath(),n+=(1-1/l)*r,a+=r;break;case"left":e.beginPath(),e.arc(n,a,b,0,Math.PI/2),e.stroke(),e.closePath(),n-=r/l,a+=(1-1/l)*r;break;case"up":e.beginPath(),e.arc(n+r,a,b,Math.PI/2,Math.PI),e.stroke(),e.closePath(),a-=r/l}}})),r.a.createElement("canvas",{width:o,height:o/l,ref:i})},f=function(){return r.a.createElement(i.f,{initialParams:{size:500},delay:100,maxTime:15},r.a.createElement(p,null))},h=function(e){var t=e.data,n=(e.tick,e.params),a=0,i=0,o=0,c=0,l=0,b=0;var d,p=(d=t.slice(1)).map((function(e,t){var p=10*e,f=s[t%4];switch(f){case"right":b-=p;break;case"left":l-=p;break;case"up":l-=p,b-=p}var h=Math.max(.1,t<2?1/n.size:1/(p+10*d[t-1])),m=p/(1.5*String(e).length),g=r.a.createElement("div",{key:"rect-"+t,style:{position:"absolute",border:"#{borderWidth}px solid #777",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",background:u[f],top:b,left:l,width:p,height:p,overflow:"hidden"}},r.a.createElement("div",{style:{fontSize:m}},e),r.a.createElement("div",{style:{position:"absolute",width:2*p,height:2*p,border:h+"px solid black",borderRadius:p,boxSizing:"border-box",top:0,left:0,transform:{right:void 0,down:"translate(-50%)",left:"translate(-50%,-50%)",up:"translate(0,-50%)"}[f]}}));switch(f){case"right":l+=p;break;case"down":l+=p,b+=p;break;case"left":b+=p}return a=Math.max(a,l),i=Math.min(i,l),o=Math.max(o,b),c=Math.min(c,b),g})),f=Math.max(a-i,o-c),h=n.size/f;return r.a.createElement("div",{style:{width:n.size,height:n.size,position:"relative",pointerEvents:"none",overflow:"hidden"}},r.a.createElement("div",{style:{position:"relative",transformOrigin:"top left",transform:"scale("+h+") translate("+-i+"px,"+-c+"px)",width:a-i+"px",height:o-c+"px",transition:"transform 0.2s"}},p))},m=function(){return r.a.createElement(i.f,{initialParams:{size:500},initData:b,updateData:d,delay:400,maxTime:16},r.a.createElement(h,null))}}}]);
//# sourceMappingURL=component---src-pages-examples-fibonacci-mdx-416f51948e6e20e3a826.js.map